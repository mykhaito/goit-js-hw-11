{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '48325175-5a13dcc75d858ba3a77e1c9bf';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport async function fetchImages(query) {\n    const url = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n    try {\n        const response = await fetch(url);\n        if (!response.ok) {\n            throw new Error('Ошибка при загрузке');\n        }\n        const data = await response.json();\n        return data.hits;\n    } catch (error) {\n        console.error(error);\n        throw error;\n    }\n}\n","export function createImageCard({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) {\n  return `\n      <a href=\"${largeImageURL}\" class=\"gallery__item\">\n          <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery__image\" />\n          <div class=\"info\">\n              <p><b>Likes:</b> ${likes}</p>\n              <p><b>Views:</b> ${views}</p>\n              <p><b>Comments:</b> ${comments}</p>\n              <p><b>Downloads:</b> ${downloads}</p>\n          </div>\n      </a>\n  `;\n}\n\nexport function renderGallery(images) {\n  const gallery = document.querySelector('.gallery');\n  gallery.innerHTML = images.map(createImageCard).join('');\n}\n","import { fetchImages } from './js/pixabay-api.js';\nimport { renderGallery } from './js/render-functions.js';\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    const form = document.querySelector('#search-form');\n    const input = form.querySelector('input');\n\n    form.addEventListener('submit', async (event) => {\n        event.preventDefault();\n        const query = input.value.trim();\n        \n        if (!query) {\n            iziToast.error({ title: 'Error', message: 'Введи запрос' });\n            return;\n        }\n\n        document.querySelector('.loader').classList.remove('hidden');\n\n        try {\n            const images = await fetchImages(query);\n            if (images.length === 0) {\n                iziToast.info({ title: 'No Results', message: 'Неправильно, введи нормальный запрос' });\n            } else {\n                renderGallery(images);\n                const lightbox = new SimpleLightbox('.gallery a');\n                lightbox.refresh();\n            }\n        } catch (error) {\n            iziToast.error({ title: 'Error', message: 'Не могу загрузить' });\n        } finally {\n            document.querySelector('.loader').classList.add('hidden');\n        }\n    });\n});\n"],"names":["API_KEY","BASE_URL","fetchImages","query","url","response","error","createImageCard","webformatURL","largeImageURL","tags","likes","views","comments","downloads","renderGallery","images","gallery","form","input","event","iziToast","SimpleLightbox"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAYC,EAAO,CACrC,MAAMC,EAAM,GAAGH,CAAQ,QAAQD,CAAO,MAAM,mBAAmBG,CAAK,CAAC,2DACrE,GAAI,CACA,MAAME,EAAW,MAAM,MAAMD,CAAG,EAChC,GAAI,CAACC,EAAS,GACV,MAAM,IAAI,MAAM,qBAAqB,EAGzC,OADa,MAAMA,EAAS,QAChB,IACf,OAAQC,EAAO,CACZ,cAAQ,MAAMA,CAAK,EACbA,CACT,CACL,CChBO,SAASC,EAAgB,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,GAAa,CACxG,MAAO;AAAA,iBACQL,CAAa;AAAA,sBACRD,CAAY,UAAUE,CAAI;AAAA;AAAA,iCAEfC,CAAK;AAAA,iCACLC,CAAK;AAAA,oCACFC,CAAQ;AAAA,qCACPC,CAAS;AAAA;AAAA;AAAA,GAI9C,CAEO,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAYD,EAAO,IAAIT,CAAe,EAAE,KAAK,EAAE,CACzD,CCVA,SAAS,iBAAiB,mBAAoB,IAAM,CAChD,MAAMW,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAQD,EAAK,cAAc,OAAO,EAExCA,EAAK,iBAAiB,SAAU,MAAOE,GAAU,CAC7CA,EAAM,eAAc,EACpB,MAAMjB,EAAQgB,EAAM,MAAM,KAAI,EAE9B,GAAI,CAAChB,EAAO,CACRkB,EAAS,MAAM,CAAE,MAAO,QAAS,QAAS,cAAc,CAAE,EAC1D,MACH,CAED,SAAS,cAAc,SAAS,EAAE,UAAU,OAAO,QAAQ,EAE3D,GAAI,CACA,MAAML,EAAS,MAAMd,EAAYC,CAAK,EAClCa,EAAO,SAAW,EAClBK,EAAS,KAAK,CAAE,MAAO,aAAc,QAAS,sCAAsC,CAAE,GAEtFN,EAAcC,CAAM,EACH,IAAIM,EAAe,YAAY,EACvC,QAAO,EAEvB,MAAe,CACZD,EAAS,MAAM,CAAE,MAAO,QAAS,QAAS,mBAAmB,CAAE,CAC3E,QAAkB,CACN,SAAS,cAAc,SAAS,EAAE,UAAU,IAAI,QAAQ,CAC3D,CACT,CAAK,CACL,CAAC"}